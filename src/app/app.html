
<ng-template #sidebarPane>
    <div id="sidebar">
        <h1 class="is-size-3">NDN-Play</h1>
        <topo-sidebar [topo]="gs.topo"></topo-sidebar>
    </div>
</ng-template>

<ng-template #mainPane>
    <ng-template #mainUpperPane>
        <app-tabs class="tab-container">
            <app-tab name="Topology">
                <div #topoContainer id="network"></div>
            </app-tab>
            <app-tab name="Editor" *ngIf="gs.topo.getSelectedNode()">
                <div id="editor">
                    <app-editor [(code)]="$any(gs.topo.getSelectedNode()).extra.codeEdit"></app-editor>
                </div>
            </app-tab>
        </app-tabs>
    </ng-template>

    <ng-template #mainLowerPane>
        <app-tabs class="tab-container" [vOverflow]="true" #lowerTabs>
            <app-tab name="Console">
                <div class="console"> <console #console></console> </div>
            </app-tab>

            <app-tab name="Packet Visualizer" #lowerVisTab>
                <div class="m-2">
                    <app-visualizer [packet]="visualizedPacket"></app-visualizer>
                </div>
            </app-tab>

            <app-tab name="Packet Capture" *ngIf="gs.topo.getSelectedNode()">
                <div class="m-2">
                    <app-captured-list
                        [node]="$any(gs.topo.getSelectedNode())"
                        (packetClick)="this.visualizedPacket = $event; lowerTabs.selection = lowerVisTab"
                    ></app-captured-list>
                </div>
            </app-tab>
        </app-tabs>
    </ng-template>

    <div class="full-width">
        <app-pane [pane1]="mainUpperPane" [pane2]="mainLowerPane"
                  [vertical]="true" basis="70%"
                  (resize)="$any(console).resize()">
        </app-pane>
    </div>
</ng-template>

<app-pane [pane1]="sidebarPane" [pane2]="mainPane" basis="300px"></app-pane>
