{"exporter":"BROWSER","nodes":[{"id":"912392af-9fb0-4eba-82eb-0352b9e9e9f7","x":-124,"y":5,"label":"Alice","color":"#a4b7fc","extra":{"producedPrefixes":["/ndn/multicast/test","/ndn/Alice/ping","/ndn/Alice/cert"],"pendingTraffic":0,"codeEdit":"const { Data, Interest } = ndn.packet;\r\nconst { fromUtf8, toUtf8 } = ndn.util;\r\n\r\nconst endpoint = node.nfw.getEndpoint({ secure: false });\r\n\r\nconst fetchData = (name: string) => async () => {\r\n    const interest = new Interest(name);\r\n    const data = await endpoint.consume(interest);\r\n    const msg = fromUtf8(data.content);\r\n\r\n    // Verify data with Bob's public key\r\n    const bobPub: ndn.keychain.NamedVerifier = globalThis.bobPublicKey;\r\n    try {\r\n        await bobPub.verify(data);\r\n        console.log(`${node.label} verified \"${msg}\"`);\r\n    } catch {\r\n        console.error(`${node.label} failed to verify \"${msg}\"`);\r\n    }\r\n}\r\n\r\nsetTimeout(fetchData('/ndn/bob/1'), 1200);\r\nsetTimeout(fetchData('/ndn/bob/2'), 1200);\r\n","capturedPackets":[],"fibStr":"/ndn/multicast/test nexthops={face=NDN (cost=10)}\n/ndn/NDN/ping nexthops={face=NDN (cost=10)}\n/ndn/NDN/cert nexthops={face=NDN (cost=10)}\n/ndn/Bob/ping nexthops={face=NDN (cost=20)}\n/ndn/Bob/cert nexthops={face=NDN (cost=20)}\n/ndn/Chuck/ping nexthops={face=NDN (cost=20)}\n/ndn/Chuck/cert nexthops={face=NDN (cost=20)}"}},{"id":"2486397a-5a5e-407f-8d1a-885c999c6331","x":0,"y":0,"label":"NDN","color":"#a4b7fc","extra":{"producedPrefixes":["/ndn/multicast/test","/ndn/NDN/ping","/ndn/NDN/cert"],"pendingTraffic":0,"codeEdit":"","capturedPackets":[],"fibStr":"/ndn/multicast/test nexthops={face=Alice (cost=10), face=Bob (cost=10), face=Chuck (cost=10)}\n/ndn/Alice/ping nexthops={face=Alice (cost=10)}\n/ndn/Alice/cert nexthops={face=Alice (cost=10)}\n/ndn/Bob/ping nexthops={face=Bob (cost=10)}\n/ndn/Bob/cert nexthops={face=Bob (cost=10)}\n/ndn/Chuck/ping nexthops={face=Chuck (cost=10)}\n/ndn/Chuck/cert nexthops={face=Chuck (cost=10)}"}},{"id":"7820ea97-8274-41de-952f-b863e909e8de","x":79,"y":96,"label":"Bob","color":"#a4b7fc","extra":{"producedPrefixes":["/ndn/multicast/test","/ndn/Bob/ping","/ndn/Bob/cert"],"pendingTraffic":0,"codeEdit":"const { generateSigningKey } = ndn.keychain;\r\nconst { Data } = ndn.packet;\r\nconst { toUtf8 } = ndn.util;\r\n\r\nif (!globalThis.bob || !globalThis.bob.face.running) {\r\n    console.log(`Starting producer ${node.label}`);\r\n\r\n    const endpoint = node.nfw.getEndpoint({ secure: false });\r\n\r\n    // Create Bob's signing key\r\n    const [bobPvt, bobPub] = await generateSigningKey('/ndn/bob/KEY');\r\n\r\n    // Share Bob's public key with Alice out of band\r\n    globalThis.bobPublicKey = bobPub;\r\n\r\n    globalThis.bob = endpoint.produce('/ndn/bob/1', async (interest) => {\r\n        const data = new Data(interest.name, Data.FreshnessPeriod(500));\r\n        data.content = toUtf8(\"Hello from Bob!\");\r\n        bobPvt.sign(data);\r\n        return data;\r\n    });\r\n}\r\n","capturedPackets":[],"fibStr":"/ndn/multicast/test nexthops={face=NDN (cost=10)}\n/ndn/NDN/ping nexthops={face=NDN (cost=10)}\n/ndn/NDN/cert nexthops={face=NDN (cost=10)}\n/ndn/Alice/ping nexthops={face=NDN (cost=20)}\n/ndn/Alice/cert nexthops={face=NDN (cost=20)}\n/ndn/Chuck/ping nexthops={face=NDN (cost=20)}\n/ndn/Chuck/cert nexthops={face=NDN (cost=20)}"}},{"id":"05640de5-8a0c-4b9a-b16f-fce77547bf6e","x":62,"y":-106,"label":"Chuck","color":"#a4b7fc","extra":{"producedPrefixes":["/ndn/multicast/test","/ndn/Chuck/ping","/ndn/Chuck/cert"],"pendingTraffic":0,"codeEdit":"const { generateSigningKey } = ndn.keychain;\r\nconst { Data } = ndn.packet;\r\nconst { toUtf8 } = ndn.util;\r\n\r\nif (!globalThis.chuck || !globalThis.chuck.face.running) {\r\n    console.log(`Starting malicious producer ${node.label}`);\r\n\r\n    // Create Chuck's signing key for Bob\r\n    const [bobPvt, _] = await generateSigningKey('/ndn/bob/KEY');\r\n\r\n    const endpoint = node.nfw.getEndpoint({ secure: false });\r\n    globalThis.chuck = endpoint.produce('/ndn/bob/2', async (interest) => {\r\n        const data = new Data(interest.name, Data.FreshnessPeriod(500));\r\n        data.content = toUtf8(\"Hello from Chuck impersonating Bob!\");\r\n        bobPvt.sign(data);\r\n        return data;\r\n    });\r\n}\r\n","capturedPackets":[],"fibStr":"/ndn/multicast/test nexthops={face=NDN (cost=10)}\n/ndn/NDN/ping nexthops={face=NDN (cost=10)}\n/ndn/NDN/cert nexthops={face=NDN (cost=10)}\n/ndn/Alice/ping nexthops={face=NDN (cost=20)}\n/ndn/Alice/cert nexthops={face=NDN (cost=20)}\n/ndn/Bob/ping nexthops={face=NDN (cost=20)}\n/ndn/Bob/cert nexthops={face=NDN (cost=20)}"}}],"edges":[{"from":"912392af-9fb0-4eba-82eb-0352b9e9e9f7","to":"2486397a-5a5e-407f-8d1a-885c999c6331","id":"34e09711-7282-4ffc-89ed-ffa12bfb84fe","color":"#3583ea","latency":-1,"loss":-1,"extra":{"pendingTraffic":0}},{"from":"7820ea97-8274-41de-952f-b863e909e8de","to":"2486397a-5a5e-407f-8d1a-885c999c6331","id":"92d83552-664d-4658-8083-462823bdf561","color":"#3583ea","latency":-1,"loss":-1,"extra":{"pendingTraffic":0}},{"from":"2486397a-5a5e-407f-8d1a-885c999c6331","to":"05640de5-8a0c-4b9a-b16f-fce77547bf6e","id":"1d281ae6-2571-427c-b7b8-72179ac640db","color":"#3583ea","latency":-1,"loss":-1,"extra":{"pendingTraffic":0}}],"positions":{"912392af-9fb0-4eba-82eb-0352b9e9e9f7":{"x":-124,"y":5},"2486397a-5a5e-407f-8d1a-885c999c6331":{"x":0,"y":0},"7820ea97-8274-41de-952f-b863e909e8de":{"x":79,"y":96},"05640de5-8a0c-4b9a-b16f-fce77547bf6e":{"x":62,"y":-106}}}